{
  "prompt_original": "Refatore o código abaixo aplicando a seguinte técnica: **Extract Method**.\n\nRegras:\n- Mantenha a funcionalidade original.\n- Retorne **apenas o código completo**.\n- Não inclua explicações ou comentários.\n- O código deve estar delimitado em blocos de código válidos.\n\n### Código original:\n```java\nindex c67adf2ec89..b7d17388ed8 100644\n--- a/components/camel-restlet/src/main/java/org/apache/camel/component/restlet/RestletProducer.java\n+++ b/components/camel-restlet/src/main/java/org/apache/camel/component/restlet/RestletProducer.java\n \n     protected RestletOperationException populateRestletProducerException(Exchange exchange, Response response, int responseCode) {\n         RestletOperationException exception;\n        String uri = exchange.getFromEndpoint().getEndpointUri();\n         String statusText = response.getStatus().getDescription();\n         Map<String, String> headers = parseResponseHeaders(response, exchange);\n         String copy;\n```\n\nCódigo refatorado:",
  "resposta": "```java\nprivate RestletOperationException populateRestletProducerException(Exchange exchange) {\n    return new RestletOperationException(exchange, getStatusCodeAndDescription(exchange), parseResponseHeaders(getResponseFromExchange(exchange)));\n}\n\nprivate int getStatusCode(Exchange exchange){\n    return getResponseFromExchange(exchange).getStatus().getCode();\n}\n\nprivate String getStatusText(Exchange exchange) {\n    return getResponseFromExchange(exchange).getStatus().getDescription();\n}\n\nprivate Map<String, String> parseResponseHeaders(Exchange exchange) {\n    return RestletHelper.parseResponseHeaders(getResponseFromExchange(exchange), exchange);\n}\n\nprivate Response getResponseFromExchange(Exchange exchange){\n    return (Response) exchange.getIn().getHeader(\"CamelRestletResponse\");\n}\n```\n"
}